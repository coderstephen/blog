a, button, input, textarea {
    &:focus {
        outline: 2px dashed $color-white;
        outline-offset: 2px;
    }

    &:active {
        filter: brightness(1.25);
    }
}

.loading {
    min-height: 10rem;
    position: relative;

    & > * {
        filter: saturate(0) blur(1px);
    }

    &::before {
        content: "Loading...";
        display: block;
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        font-size: 2rem;
        @include display-font;

        animation: loading 3s linear infinite;
    }

    &::after {
        content: "";
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 2;
        background-image: radial-gradient(4rem at center, transparent 39%, white 40%, white 49%, transparent 50%);
        animation: breathe 3s ease infinite;
        transform: scale(1);
    }

    @keyframes breathe {
        from, to {
            transform: scale(1);
        }
        50% {
            transform: scale(1.5);
        }
    }

    @keyframes loading {
        from, to {
            content: "Loading";
        }
        25% {
            content: "Loading.";
        }
        50% {
            content: "Loading..";
        }
        75% {
            content: "Loading...";
        }
    }
}

form {
    position: relative;
}

button, input[type="button"], input[type="submit"], input[type="reset"], .button {
    --button-color: #{$color-white};

    @include transition;
    @include border(var(--button-color));

    display: inline-block;
    position: relative;
    cursor: pointer;
    appearance: none;
    padding: 0 1em;
    line-height: 2;
    background: {
        color: transparent;
        image: linear-gradient(to right, var(--button-color), var(--button-color));
        repeat: no-repeat;
        size: 0px 100%;
        position: 0 0;
    }

    color: var(--button-color);
    font: {
        size: 0.875em;
        family: $font-display;
        weight: bold;
    }
    text-align: center;
    text-transform: uppercase;

    &:hover, &:focus {
        background-size: 100% 100%;
        color: $color-black;
    }
}

input[type="submit"] {
    --button-color: #{$color-secondary};
}

input[type="text"], input[type="email"], input[type="search"], textarea, [contenteditable] {
    @include border($color-white);

    max-width: 100%;
    padding: 0.5em;
    background-color: transparent;
    color: inherit;
    font: {
        size: inherit;
        family: inherit;
    }
    transition: background-color $default-transition-duration ease;

    &::placeholder, &.placeholder {
        opacity: 0.5;
    }

    &:focus {
        background-color: fade-out($color-white, 0.9);
    }
}
