@using System.Reflection
@using Microsoft.AspNetCore.Hosting
@using Microsoft.Extensions.Hosting
@inject IWebHostEnvironment env

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        @if (ViewData.ContainsKey("Title"))
        {
            <title>@Html.Raw(ViewData["Title"]) — Stephen Coakley</title>
        }
        else
        {
            <title>Stephen Coakley</title>
        }
        <meta name="description" content="I'm a software developer based in Wisconsin">
        <meta name="keywords" content="Stephen Coakley, programming, web development, apps, php">
        <meta name="author" content="Stephen Coakley">
        <meta property="version" content="@(Assembly.GetExecutingAssembly().GetCustomAttribute<AssemblyInformationalVersionAttribute>().InformationalVersion)">

        <link rel="alternate" type="application/feed+json" href="/feed.json" title="Blog Feed">
        <link rel="alternate" type="application/atom+xml" href="/feed" title="Blog Feed">
        <link rel="alternate" type="application/rss+xml" href="/feed.rss" title="Blog Feed">

        <link rel="icon" type="image/png" href="/assets/images/favicon.128.png" sizes="128x128">
        <link rel="icon" type="image/png" href="/assets/images/favicon.64.png" sizes="64x64">
        <link rel="icon" type="image/png" href="/assets/images/favicon.48.png" sizes="48x48">
        <link rel="icon" type="image/png" href="/assets/images/favicon.32.png" sizes="32x32">
        <link rel="shortcut icon" href="/assets/images/favicon.ico">
        <link rel="icon" type="image/png" href="/assets/images/favicon.16.png" sizes="16x16">

        <meta name="viewport" content="initial-scale=1">
        <link rel="stylesheet" href="/css/main.css?v=@Blog.Startup.GitCommit">

        <script defer src="/js/vendor/mithril-2.0.4.js"></script>
        <script defer src="/js/vendor/highlightjs-10.5.0.js"></script>
        <script defer src="/js/vendor/mermaid-8.8.4.js"></script>
        <script type="module" src="/js/index.js"></script>
    </head>

    <body>
        <header>
            <nav>
                <a id="logo" class="title" href="/">Stephen·Coakley</a>
                <div style="flex-grow: 1;"></div>
                <div class="links">
                    <a class="button" href="/articles">Articles</a>
                    <a class="button" href="/stuff">Stuff</a>
                    <a class="button" href="/feeds">Feeds</a>
                    <a class="button" href="/about">About</a>
                </div>
            </nav>
        </header>

        <main role="main">
            @RenderBody()
        </main>

        <footer>
            <hr>
            <p class="center">
                <a title="Email" href="mailto:me@stephencoakley.com">Email</a> | <a title="GitHub" href="https://github.com/sagebind">GitHub</a> | <a href="/feeds">Feeds</a>
            </p>

            <p class="center copyright">&copy; @DateTime.Now.Year Stephen Coakley</p>
        </footer>

        @if (env.IsProduction())
        {
            <script type="text/javascript">
                var _paq = window._paq || [];
                _paq.push(['trackPageView']);
                _paq.push(['enableLinkTracking']);
                (function() {
                    var u="//analytics.cloud.stephencoakley.dev/";
                    _paq.push(['setTrackerUrl', u+'matomo.php']);
                    _paq.push(['setSiteId', '1']);
                    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
                })();
            </script>
            <noscript><p><img src="//analytics.cloud.stephencoakley.dev/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>
        }
    </body>
</html>
